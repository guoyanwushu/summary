## 三次握手和四次挥手
通俗的讲，三次握手保证通信双方的收发都没有问题, 确保彼此收发没问题后就建立稳定连接。
四次挥手: 
(1). 主动断开链接方, 发送FIN包告诉对方自己要断开链接了
(2). 被动方接受到信号，此时可能会有被动方正在向主动方发数据，不不能立即断开，就会发一个ACK(确认)包给主动方，告诉主动方我晓得了，但是现在还断不了。主动方法接收到ACK表示了解，乖巧进等被动方传输完成的信号
(3). 被动方确认所有数据传输完毕, 发送 FIN包给主动方，告诉主动方你断嘛，然后被动方断开链接
(4). 主动方收到FIN包，但是为了确保万无一失，会发个ACK包给被动方, 被动方收到ACK关闭， 主动方2MSL后未收到响应关闭。
为什么要设置为2MSL后关闭， 因为主动方发送ACK后，不能保证被动方一定收到了，如果被东方发送FIN2ML后没有收到主动方发的ACK，就会重发FIN包。 


## HTTP和HTTPS
http三个问题:
(1). 明文传输，会被窃取监听
(2). 不校验完整性，可能会被篡改
(3). 不验证身法，可能会被假冒钓鱼

HTTPS 刚好就解决了这三个问题
(1). 对称加密加密报文
(2). 非对称加密验证身法
(3). 散列算法确保数据一致

### HTTPS的完整传输流程
一个HTTPS请求实际上包含了两次HTTP传输，可以细分为8步。
1.客户端向服务器发起HTTPS请求，连接到服务器的443端口
2.服务器端有一个密钥对，即公钥和私钥，是用来进行非对称加密使用的，服务器端保存着私钥，不能将其泄露，公钥可以发送给任何人。
3.服务器将自己的公钥发送给客户端。
4.客户端收到服务器端的证书之后，会对证书进行检查，验证其合法性，如果发现发现证书有问题，那么HTTPS传输就无法继续。严格的说，这里应该是验证服务器发送的数字证书的合法性，关于客户端如何验证数字证书的合法性，下文会进行说明。如果公钥合格，那么客户端会生成一个随机值，这个随机值就是用于进行对称加密的密钥，我们将该密钥称之为client key，即客户端密钥，这样在概念上和服务器端的密钥容易进行区分。然后用服务器的公钥对客户端密钥进行非对称加密，这样客户端密钥就变成密文了，至此，HTTPS中的第一次HTTP请求结束。
5.客户端会发起HTTPS中的第二个HTTP请求，将加密之后的客户端密钥发送给服务器。
6.服务器接收到客户端发来的密文之后，会用自己的私钥对其进行非对称解密，解密之后的明文就是客户端密钥，然后用客户端密钥对数据进行对称加密，这样数据就变成了密文。
7.然后服务器将加密后的密文发送给客户端。
8.客户端收到服务器发送来的密文，用客户端密钥对其进行对称解密，得到服务器发送的数据。这样HTTPS中的第二个HTTP请求结束，整个HTTPS传输完成。