### 从浏览器输入地址到最后完整展现这个过程，分阶段讨论性能优化
#### 网络请求阶段
* 合理利用缓存策略。针对某些不经常改变的资源，利用合理的缓存策略使其在浏览器环境缓存，减少多次请求带来的时间损耗
    * cache-control expires
        * 缓存有时候也有问题。如果过期时间短了，起不到缓存效果，如果过期时间长了，有可能服务器都更新了，浏览器还在用旧的缓存资源。特别是在微信公众号开发的时候，缓存的情况是十分严重的，而且并没有很直观的缓存清除手段, 极有可能出现服务器已更新，但是客户端还在使用旧资源的情况。
        * 解决方案是，打包出来的文件都带上md5标识, 比如 index.182686239.js, 然后缓存过期时间设置为1年，这样子就可以保证文件未改变时始终使用缓存，而文件一旦改变，就能够立即获取到最新的文件
    * manifest
        最新的web标准已经不推荐使用manifest了, 暂时不看了
* dns预解析
    只有将域名解析为真正的ip地址，才能建立连接，传输数据。通过在head头部里面设置预解析, 浏览器会在解析页面的时候同步预解析dns。在真正用到指定域名的时候，就可以直接建立连接，从而节省dns解析这段时间
    <meta name="x-dns-prefetch-control" content="on">
    <link rel="dns-prefetch" content="//wwww.baidu.com">
    ie9+ 支持, chrome、firefox默认开启dns预解析, 会自动预解析页面里面出现的其他域名
* 减少网络请求和资源文件的大小
    * 压缩
        * 前端相关js\css 文件的压缩
        * 服务器可以通过配置进一步压缩资源(gzip)
    * 合并(css js 图片)
        * 图标雪碧图
        * 用字体图标代替细碎的图片图标
        * 低于某些大小的资源可以通过转换为base64存储
    * 图片单独说一下。合理选择图片的格式也是能够减少图片大小的 (游戏jpg和gif，慎用png)
        * jpg/jpeg 有损压缩，可以自行选择压缩比例，适合颜色较少图片
        * png8/png24/png32 无损压缩, 比jpg大, 8能展现和索引的颜色最少, 2^8 256色。 png24 是2^24 大约1600万色，但是不支持透明。png 32在24的基础上新增了8位透明通道，可以存储2&8 256种层次的透明度
        * gif 支持动画，仅支持索引透明。在图片本身较小的时候，gif比png8还要小
* cdn
* 资源预获取
    * prefetch
    * preload
#### 页面呈现阶段
* css前置、js后置避免js阻塞太久，导致页面长期处于空白
* 减少dom数和css嵌套层数
* 图片显示设置宽高, 使其所在布局位置固定
* 针对当前不是必要的js，可以使用defer推迟到最后解析执行
* 将首屏非必要的图片及其他资源进行懒加载
* 尽量避免回流
    * 针对动画及变形元素，使其脱离常规文档流,避免其动画过程导致其他页面元素甚是是整个页面的回流
    * 避免频繁的dom增删改，通过离线的方式缓存dom变更，然后一次性将变更同步到真实dom中
